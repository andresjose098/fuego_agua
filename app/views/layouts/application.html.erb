<!DOCTYPE html>
<html>
  <head>
    <title>Fuego de Agua</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbo-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbo-track': 'reload', defer: true %>
  </head>

  <body style="margin: 0; padding: 0;">
    <% if user_signed_in? %>
      <div style="display: flex; height: 100vh;">
        <!-- Menú lateral -->
        <aside style="width: 320px; background: #f5f0eb; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; position: fixed; left: 0; top: 0; bottom: 0; z-index: 100;">
          <div>
            <h2 style="font-weight: bold; font-size: 24px; margin-bottom: 20px;">Fuego de Agua</h2>
            <nav>
              <ul style="list-style: none; padding-left: 0;">
                <li style="margin-bottom: 10px;"><%= link_to 'Personalizar Vela', new_vela_path %></li>
                <li style="margin-bottom: 10px;"><%= link_to 'Foro Vela', foro_velas_path %></li>
                <li style="margin-bottom: 10px;"><%= link_to 'Vela Ganadora Edición Limitada', vela_ganadora_edicion_limitadas_path %></li>
                <li style="margin-top:50%;"><%= link_to 'Cerrar sesión', logout_path, method: :delete, data: { confirm: '¿Estás seguro de que deseas cerrar sesión?' } %></li>
              </ul>
            </nav>
          </div>
          <div style="font-size: 12px; color: #555;">
            <%= current_user.email %>
          </div>
        </aside>

        <!-- Contenido principal -->
        <main style="margin-left: 320px; flex-grow: 1; padding: 30px;">
          <%= yield %>
        </main>
      </div>
    <% else %>
      <%= yield %>
    <% end %>
  </body>
</html>