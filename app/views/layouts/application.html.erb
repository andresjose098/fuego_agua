<!DOCTYPE html>
<html>
  <head>
    <title>Fuego de Agua</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbo-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbo-track': 'reload', defer: true %>
  </head>

  <body style="margin: 0; padding: 0;">
    <% if user_signed_in? %>
      <div style="display: flex; height: 100vh;">
       <!-- Men√∫ lateral moderno -->
<aside style="width: 260px; background: #f9f7f5; padding: 30px 20px; display: flex; flex-direction: column; justify-content: space-between; position: fixed; left: 0; top: 0; bottom: 0; z-index: 100; border-right: 1px solid #e0ddd8; box-shadow: 2px 0 8px rgba(0,0,0,0.05);">

  <!-- Logo y t√≠tulo -->
  <div>
    <h1 style="font-size: 24px; font-weight: bold; color: #333; margin-bottom: 40px;">üïØÔ∏è Fuego de Agua</h1>
    
    <!-- Navegaci√≥n -->
    <nav>
      <ul style="list-style: none; padding: 0; margin: 0;">
        <li class="nav-item">
          <%= link_to '‚ú® Personalizar Vela', velas_path, class: "nav-link #{current_page?(new_vela_path) ? 'active' : ''}" %>
        </li>
        <li class="nav-item">
          <%= link_to 'üí¨ Foro Vela', foro_velas_path, class: "nav-link #{current_page?(foro_velas_path) ? 'active' : ''}" %>
        </li>
        <li class="nav-item">
          <%= link_to 'üèÜ Vela Ganadora', vela_ganadora_edicion_limitadas_path, class: "nav-link #{current_page?(vela_ganadora_edicion_limitadas_path) ? 'active' : ''}" %>
        </li>
      </ul>
    </nav>
  </div>

  <!-- Cierre de sesi√≥n -->
  <div>
    <%= link_to 'üö™ Cerrar sesi√≥n', logout_path, method: :delete, data: { confirm: '¬øDeseas cerrar sesi√≥n?' }, class: 'logout-link' %>
    <p style="margin-top: 10px; font-size: 12px; color: #888;"><%= current_user.email %></p>
  </div>
</aside>


<style>
  .nav-item {
    margin-bottom: 20px;
  }

  .nav-link {
    display: block;
    padding: 12px 16px;
    background-color: transparent;
    color: #444;
    border-radius: 8px;
    font-size: 16px;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .nav-link:hover {
    background-color: #eae6df;
    color: #000;
  }

  .nav-link.active {
    background-color: #f39c12;
    color: white;
    font-weight: bold;
  }

  .logout-link {
    display: inline-block;
    margin-top: 40px;
    padding: 10px 16px;
    background-color: #e74c3c;
    color: white;
    border-radius: 8px;
    text-decoration: none;
    font-weight: bold;
    text-align: center;
    transition: background-color 0.2s ease;
  }

  .logout-link:hover {
    background-color: #c0392b;
  }
</style>
        <!-- Contenido principal -->
        <main style="margin-left: 320px; flex-grow: 1; padding: 30px;">
          <%= yield %>
        </main>
      </div>
    <% else %>
      <%= yield %>
    <% end %>
  </body>
</html>